# üå± GrowBox ESP32

[![PlatformIO](https://img.shields.io/badge/PlatformIO-Professional-brightgreen)](https://platformio.org/)
[![ESP32](https://img.shields.io/badge/ESP32-ESP--IDF_4.4-blue)](https://www.espressif.com/)
[![License](https://img.shields.io/badge/License-MIT-orange.svg)](LICENSE)
[![Version](https://img.shields.io/badge/Version-1.0.0--alpha-blue)](CHANGELOG.md)

–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è –≥–∏–¥—Ä–æ–ø–æ–Ω–∏–∫–∏ –Ω–∞ –±–∞–∑–µ ESP32 —Å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º, –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π MQTT, OTA –∏ –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –¥–∞—Ç—á–∏–∫–æ–≤.

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ß–µ—Ä–µ–∑ ponics.online (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [https://ponics.online](https://ponics.online)
2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
3. –£–∫–∞–∂–∏—Ç–µ WiFi
4. –ù–∞–∂–º–∏—Ç–µ ¬´–ü—Ä–æ—à–∏—Ç—å¬ª

### –†—É—á–Ω–∞—è –ø—Ä–æ—à–∏–≤–∫–∞

```bash
git clone https://github.com/yourusername/growbox-esp32.git
cd growbox-esp32
pio pkg install
pio run -t upload
```

---

## üåü –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞, –≤–ª–∞–∂–Ω–æ—Å—Ç—å, EC, pH, CO‚ÇÇ, —Å–≤–µ—Ç
- –ì—Ä–∞—Ñ–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è—Ö

### üéõÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

- –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
- –†–µ–ª–µ, –Ω–∞—Å–æ—Å—ã, –æ—Å–≤–µ—â–µ–Ω–∏–µ
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### üåê –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

- MQTT + Home Assistant
- OTA-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –£–¥–∞–ª—ë–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø

### ‚öôÔ∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- FreeRTOS
- –ó–∞—â–∏—â—ë–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

---

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—é

### –ë–∞–∑–æ–≤—ã–π –∫–æ–º–ø–ª–µ–∫—Ç

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç   | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è              |
|------------|---------------------------|
| –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä | ESP32-WROOM-32 / ESP32-S3 |
| –ü–∏—Ç–∞–Ω–∏–µ    | 5–í / 2–ê                    |
| –î–∞—Ç—á–∏–∫–∏    | –°–º. –Ω–∏–∂–µ                   |
| –†–µ–ª–µ       | –ú–æ–¥—É–ª—å 5–í                  |

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–∞—Ç—á–∏–∫–∏

- –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞/–≤–ª–∞–∂–Ω–æ—Å—Ç—å: AHT10, AM2320
- –í–æ–¥–∞: DS18B20 (1-Wire)
- EC/pH: –∞–Ω–∞–ª–æ–≥–æ–≤—ã–µ + ADS1115
- –°–≤–µ—Ç: BH1750

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ WiFi `GrowBox-XXXX`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `http://192.168.50.1`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –≤–∞—à–µ–π WiFi-—Å–µ—Ç–∏

---

## üåê –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–µ–Ω—Å–æ—Ä–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å–æ—Å–∞–º–∏ –∏ —Ä–µ–ª–µ
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∫–∞–ª–∏–±—Ä–æ–≤–∫–∞
- OTA-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

```http
Authorization: Bearer –≤–∞—à_—Ç–æ–∫–µ–Ω
```

–ò–ª–∏:

```
http://–≤–∞—à-ip/api/status?auth=PonIcsOnLiNe2025
```

### API Endpoints

| –ú–µ—Ç–æ–¥ | –≠–Ω–¥–ø–æ–∏–Ω—Ç              | –û–ø–∏—Å–∞–Ω–∏–µ                  |
|-------|------------------------|----------------------------|
| GET   | /api/board             | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ       |
| GET   | /api/status            | –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–∫–∞–∑–∞–Ω–∏—è       |
| GET   | /api/ram_saver/data    | –ò—Å—Ç–æ—Ä–∏—è –∑–Ω–∞—á–µ–Ω–∏–π           |
| GET   | /api/tasks             | –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏            |
| POST  | /ota                   | OTA-–∑–∞–≥—Ä—É–∑–∫–∞               |

#### –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ `/api/status`

```json
{
  "temperature": 24.5,
  "humidity": 65.2,
  "ec": 1.2,
  "ph": 6.8,
  "light": 4500
}
```

---

## üîå –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –¥–∞—Ç—á–∏–∫–∏

### –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –∏ –≤–ª–∞–∂–Ω–æ—Å—Ç—å

| –î–∞—Ç—á–∏–∫   | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å | –¢–æ—á–Ω–æ—Å—Ç—å          | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è             |
|----------|-----------|-------------------|-------------------------|
| AHT10    | I¬≤C       | ¬±0.3¬∞C / ¬±2% RH   | –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π              |
| AM2320   | I¬≤C       | ¬±0.5¬∞C / ¬±3% RH   | –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å        |
| DS18B20  | 1-Wire    | ¬±0.5¬∞C            | –í–ª–∞–≥–æ–∑–∞—â–∏—Ç–∞             |
| SCD30    | I¬≤C       | ¬±0.2¬∞C            | –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π CO‚ÇÇ —Å–µ–Ω—Å–æ—Ä   |

### –í–æ–¥–∞ –∏ —Ä–∞—Å—Ç–≤–æ—Ä

| –î–∞—Ç—á–∏–∫         | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å | –î–∏–∞–ø–∞–∑–æ–Ω         | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ         |
|----------------|-----------|------------------|---------------------|
| EC             | –ê–Ω–∞–ª–æ–≥    | 0‚Äì20 mS/cm       | –≠–ª–µ–∫—Ç—Ä–æ–ø—Ä–æ–≤–æ–¥–Ω–æ—Å—Ç—å |
| pH             | –ê–Ω–∞–ª–æ–≥    | 0‚Äì14             | –ö–∏—Å–ª–æ—Ç–Ω–æ—Å—Ç—å        |
| –£—Ä–æ–≤–µ–Ω—å        | –£–ó / –ø–æ–ø–ª–∞–≤ | 0‚Äì100 —Å–º        | –£—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã       |
| –ü–æ—Ç–æ–∫          | –ò–º–ø—É–ª—å—Å   | 1‚Äì30 –ª/–º–∏–Ω       | –†–∞—Å—Ö–æ–¥ –≤–æ–¥—ã        |

### –û–∫—Ä—É–∂–∞—é—â–∞—è —Å—Ä–µ–¥–∞

| –î–∞—Ç—á–∏–∫     | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã                | –ü—Ä–∏–º–µ—á–∞–Ω–∏—è        |
|------------|-----------|---------------------------|-------------------|
| BH1750     | I¬≤C       | 1‚Äì65535 –ª—é–∫—Å              | –û—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç—å      |
| SCD30      | I¬≤C       | CO‚ÇÇ: 400‚Äì40000 ppm        | –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π   |
| BME680     | I¬≤C       | T, RH, VOC                | –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π     |
| VEML7700   | I¬≤C       | 0‚Äì120000 –ª—é–∫—Å             | –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å  |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

| –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ     | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ         | –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å |
|----------------|--------------------|-----------|
| –†–µ–ª–µ           | –ù–∞—Å–æ—Å—ã / —Å–≤–µ—Ç      | GPIO      |
| MOSFET         | LED / –¢–≠–ù          | PWM       |
| MCP23017       | –ü–æ—Ä—Ç—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è   | I¬≤C       |
| HX711          | –í–µ—Å—ã (—Ç–µ–Ω–∑–æ–¥–∞—Ç—á–∏–∫–∏)| SPI       |

---

## üîÑ OTA-–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

### –ú–µ—Ç–æ–¥—ã

1. **–ß–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** (`/ota`)
   - –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—à–∏–≤–∫–∏ (–≤–æ–∑–º–æ–∂–Ω–æ –ø–æ —á–∞—Å—Ç—è–º)
2. **ESP-TOOL**
   ```bash
   pio run -t upload --upload-port <IP_–£–°–¢–†–û–ô–°–¢–í–ê>
   ```

---

## üì° MQTT –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

### –¢–æ–ø–∏–∫–∏

- `growbox/<device_id>/sensors`
- `growbox/<device_id>/control`
- `growbox/<device_id>/status`

### –ü—Ä–∏–º–µ—Ä Home Assistant

```yaml
mqtt:
  sensor:
    - name: "–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ –≤–æ–∑–¥—É—Ö–∞"
      state_topic: "growbox/kitchen/sensors"
      value_template: "{{ value_json.temperature }}"
      unit_of_measurement: "¬∞C"
      device_class: temperature
    - name: "–í–ª–∞–∂–Ω–æ—Å—Ç—å"
      state_topic: "growbox/kitchen/sensors"
      value_template: "{{ value_json.humidity }}"
      unit_of_measurement: "%"
      device_class: humidity
```

---

## üß™ –ö–∞–ª–∏–±—Ä–æ–≤–∫–∞ –¥–∞—Ç—á–∏–∫–æ–≤

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [ponics.online/wiki](https://ponics.online/wiki/)

### pH-–º–µ—Ç—Ä

1. –†–∞—Å—Ç–≤–æ—Ä—ã: pH 4.01, 7.01, 10.01
2. –í —Ä–∞–∑–¥–µ–ª–µ "–ö–∞–ª–∏–±—Ä–æ–≤–∫–∞" —Å–ª–µ–¥–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º

### –ù–¢–¶ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

1. –ü–æ–≥—Ä—É–∑–∏—Ç—å –≤ —Ö–æ–ª–æ–¥–Ω—É—é –≤–æ–¥—É, –∑–∞—Ç–µ–º –≤ —Ç—ë–ø–ª—É—é
2. –ù–∞–±–ª—é–¥–∞—Ç—å –≥—Ä–∞—Ñ–∏–∫, –Ω–∞–∂–∞—Ç—å "–ê–≤—Ç–æ–∫–∞–ª–∏–±—Ä–æ–≤–∫–∞"

### EC-–º–µ—Ç—Ä

1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–ª–∏–±—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–∞—Ç—á–∏–∫ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã
2. –ü–æ–≥—Ä—É–∑–∏—Ç—å –≤ 1413 ¬µS/cm –∏ —Ä–∞–±–æ—á–∏–π —Ä–∞—Å—Ç–≤–æ—Ä
3. –í–≤–µ—Å—Ç–∏ –∑–Ω–∞—á–µ–Ω–∏—è, –Ω–∞–∂–∞—Ç—å "–ö–∞–ª–∏–±—Ä–æ–≤–∞—Ç—å"

### –£—Ä–æ–≤–µ–Ω—å –≤–æ–¥—ã

1. 0 —Å–º = –º–∞–∫—Å —É—Ä–æ–≤–µ–Ω—å
2. 30 —Å–º = –ø—É—Å—Ç–æ–π –±–∞–∫

---

## üìä –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

- –ì—Ä–∞—Ñ–∏–∫–∏ –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- –≠–∫—Å–ø–æ—Ä—Ç –∏—Å—Ç–æ—Ä–∏–∏
- MQTT ‚Üí Home Assistant, Grafana

---

## ü§ù –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç

- –ü—É–ª-—Ä–µ–∫–≤–µ—Å—Ç—ã –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É—é—Ç—Å—è!
- –°–ª–µ–¥—É–π—Ç–µ —Å—Ç–∏–ª—é –ø—Ä–æ–µ–∫—Ç–∞
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

---

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –°–º. [LICENSE](LICENSE)

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

- [Issues](https://github.com/yourusername/growbox-esp32/issues)
- Telegram: [@hydro_ponics_online](https://t.me/hydro_ponics_online)
