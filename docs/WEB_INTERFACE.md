# Руководство по веб-интерфейсу GrowBox

## Содержание
1. [Обзор](#обзор)
2. [Панель управления](#панель-управления)
3. [Настройки](#настройки)
4. [Графики](#графики)
5. [API](#api)
6. [Устранение неисправностей](#устранение-неисправностей)

## Обзор

Веб-интерфейс GrowBox предоставляет удобный способ мониторинга и управления вашей гидропонной системой через браузер. Интерфейс адаптирован для работы как с компьютеров, так и с мобильных устройств.

## Панель управления

### Основной экран

- **Показания датчиков** - текущие значения всех подключённых датчиков
- **Статус системы** - состояние реле, подключение к WiFi, MQTT
- **Быстрое управление** - кнопки для ручного управления реле

### Навигация

- **Главная** - сводная информация
- **Графики** - история показаний датчиков
- **Управление** - ручное управление устройствами
- **Настройки** - конфигурация системы
- **Калибровка** - калибровка датчиков
- **Обновление** - обновление прошивки

## Настройки

### Настройки сети

- **WiFi**
  - Режим (Точка доступа/Клиент)
  - SSID и пароль
  - Статический IP (опционально)

- **MQTT**
  - Адрес сервера
  - Порт (по умолчанию 1883)
  - Логин и пароль
  - Префикс топиков

### Настройки датчиков

- **Интервал опроса** (сек)
- **Пороги уведомлений**
- **Калибровочные коэффициенты**

### Управление питанием

- **Расписание работы**
- **Управление реле**
- **Экономия энергии**

## Графики

### Доступные графики

1. **Температура**
   - Воздух
   - Вода
   - Корни

2. **Вода**
   - Уровень
   - pH
   - EC

3. **Освещение**
   - Интенсивность
   - Спектр
   - Фотопериод

### Настройка графиков

- **Период отображения** (час, день, неделя, месяц)
- **Масштабирование**
- **Экспорт данных** (CSV, JSON)

## API

### Базовый URL
```
http://<IP-адрес>/api/v1/
```

### Эндпоинты

#### Получение данных

```http
GET /api/v1/sensors
```

**Ответ:**
```json
{
  "temperature": 24.5,
  "humidity": 65.2,
  "ph": 6.2,
  "ec": 1200,
  "water_level": 85,
  "timestamp": "2023-04-15T14:30:00Z"
}
```

#### Управление реле

```http
POST /api/v1/relay
Content-Type: application/json

{
  "id": 1,
  "state": true
}
```

#### Получение настроек

```http
GET /api/v1/settings
```

## Устранение неисправностей

### Проблема: Не загружается веб-интерфейс
- Проверьте подключение к сети
- Убедитесь, что устройство включено
- Попробуйте очистить кеш браузера

### Проблема: Нет данных с датчиков
- Проверьте подключение датчиков
- Убедитесь, что датчики включены в настройках
- Проверьте логи на наличие ошибок

### Проблема: Не сохраняются настройки
- Проверьте права доступа к файловой системе
- Убедитесь, что есть свободное место
- Перезагрузите устройство

## Безопасность

### Аутентификация

По умолчанию веб-интерфейс защищён паролем. 

**Логин:** admin  
**Пароль:** (устанавливается при первом запуске)

### Рекомендации по безопасности

1. Смените пароль по умолчанию
2. Используйте HTTPS при доступе из интернета
3. Ограничьте доступ к веб-интерфейсу по IP-адресу
4. Регулярно обновляйте прошивку

## Мобильное приложение

Для удобного доступа с мобильных устройств можно использовать:

1. **Веб-приложение** - откройте веб-интерфейс в мобильном браузере
2. **Домашний экран** - добавьте иконку на главный экран
3. **Сторонние приложения** - используйте MQTT-клиенты для интеграции

## Логи

Журнал событий доступен в разделе "Система" > "Логи". Вы можете:

- Просматривать события в реальном времени
- Фильтровать по типу (ошибка, предупреждение, информация)
- Экспортировать логи для анализа

## Резервное копирование

Рекомендуется регулярно создавать резервные копии настроек:

1. Перейдите в "Настройки" > "Резервная копия"
2. Нажмите "Создать резервную копию"
3. Сохраните файл в безопасное место

Для восстановления:

1. Перейдите в "Настройки" > "Резервная копия"
2. Нажмите "Восстановить из файла"
3. Выберите файл с резервной копией
4. Подтвердите восстановление

## Поддержка

По всем вопросам обращайтесь:
- В раздел "Помощь" в веб-интерфейсе
- На форум поддержки
- По электронной почте support@growbox.local
